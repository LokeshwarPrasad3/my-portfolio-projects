<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Signika+Negative&display=swap"
        rel="stylesheet">

    <title>Onlne-Alarm-Clock | Best online alarm to set them</title>
    <title>Online | Clock See real timing</title>
    <meta name="keywords" content="online alarm clock, alarm clock, digital alarm clock">
    <meta name="description" content="Real time alarm clock in online">
    
    <link rel="stylesheet" href="/css/alarm-clock-style.css">
</head>

<body>
    <div id="Digital-Clock">
        <div id="clock">
            <h1>Alarm-Clock</h1>
            <div id="clock-content">
                <div id="hourBox" class="timeBox">
                    <div class="time" id="addHours"></div>
                    <div class="caption">Hours</div>
                </div>
                <div id="minuteBox" class="timeBox">
                    <div class="time" id="addMinutes"></div>
                    <div class="caption">Minutes</div>
                </div>
                <div class="timeBox">
                    <div class="time" id="addSeconds"></div>
                    <div class="caption">Seconds</div>
                </div>
            </div>
            <form id="set" action="">
                <div id="setHours" class="setTime">
                    <select class="setT" name="" id="selectHours">
                        <option value="">Hours</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="10">11</option>
                        <option value="10">12</option>
                    </select>
                </div>
                <div id="setMinutes" class="setTime">
                    <select class="setT" name="" id="selectMinutes">
                        <option value="">Minutes</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                        <option value="32">32</option>
                        <option value="33">33</option>
                        <option value="34">34</option>
                        <option value="35">35</option>
                        <option value="36">36</option>
                        <option value="37">37</option>
                        <option value="38">38</option>
                        <option value="39">39</option>
                        <option value="40">40</option>
                        <option value="41">41</option>
                        <option value="42">42</option>
                        <option value="43">43</option>
                        <option value="44">44</option>
                        <option value="45">45</option>
                        <option value="46">46</option>
                        <option value="47">47</option>
                        <option value="48">48</option>
                        <option value="49">49</option>
                        <option value="50">50</option>
                        <option value="51">51</option>
                        <option value="52">52</option>
                        <option value="53">53</option>
                        <option value="54">54</option>
                        <option value="55">55</option>
                        <option value="56">56</option>
                        <option value="57">57</option>
                        <option value="58">58</option>
                        <option value="59">59</option>
                        <option value="60">60</option>
                    </select>
                </div>
                <div id="setSeconds" class="setTime">
                    <select class="setT" name="" id="selectSeconds">
                        <option value="">Seconds</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                        <option value="32">32</option>
                        <option value="33">33</option>
                        <option value="34">34</option>
                        <option value="35">35</option>
                        <option value="36">36</option>
                        <option value="37">37</option>
                        <option value="38">38</option>
                        <option value="39">39</option>
                        <option value="40">40</option>
                        <option value="41">41</option>
                        <option value="42">42</option>
                        <option value="43">43</option>
                        <option value="44">44</option>
                        <option value="45">45</option>
                        <option value="46">46</option>
                        <option value="47">47</option>
                        <option value="48">48</option>
                        <option value="49">49</option>
                        <option value="50">50</option>
                        <option value="51">51</option>
                        <option value="52">52</option>
                        <option value="53">53</option>
                        <option value="54">54</option>
                        <option value="55">55</option>
                        <option value="56">56</option>
                        <option value="57">57</option>
                        <option value="58">58</option>
                        <option value="59">59</option>
                        <option value="60">60</option>
                    </select>
                </div>
                <div id="setSeconds" class="setTime">
                    <select class="setT" name="" id="selectSeconds">
                        <option value="">A/P</option>
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                </div>
            </form>
            <div id="display">
                <div id="clock-content">
                    <div id="hourBox" class="showBox">
                        <div class="showTime" id="showHours">5</div>
                    </div>
                    <div id="minuteBox" class="showBox">
                        <div class="showTime" id="showMinutes"></div>
                    </div>
                    <div class="showBox">
                        <div class="showTime" id="showSeconds"></div>
                    </div>
                </div>
            </div>
            <!-- <div id="clockImg">
                <img class="tmp" id="img" src="alrmImg.png">
            </div> -->
            <div id="setBtn">
                <button type="submit" id="setAlarm">Set Timer</button>
            </div>
        </div>
    </div>



    <script>
        let display = document.getElementById("display");
        display.style.display = 'none';


        var time, hours, minutes, seconds;
        var newt;
        let addHours = document.getElementById('addHours');
        let addMinutes = document.getElementById('addMinutes');
        let addSeconds = document.getElementById('addSeconds');
        function changeTime() {
            time = new Date();
            hours = time.getHours();
            minutes = time.getMinutes();
            seconds = time.getSeconds();
            hours = hours > 12 ? hours - 12 : 12 - hours;
            //console.log(hours + ":"+minutes+":"+seconds);
            addHours.innerText = `${hours}`
            addMinutes.innerText = `${minutes}`
            addSeconds.innerText = `${seconds}`
            newt = hours;
        }
        setInterval(changeTime, 1000);
        console.log(newt);

       

        // setting alarms
        let setAlarm = document.getElementById("setAlarm");
        let alarmForm = document.getElementById("set");
        setAlarm.addEventListener('click', function (e) {
            e.preventDefault();
            let selectHours = document.getElementById("selectHours").value;
            let selectMinutes = document.getElementById("selectMinutes").value;
            let selectSeconds = document.getElementById("selectSeconds").value;

            if (!selectHours && !selectMinutes && !selectSeconds) {
                alert("Enter valid input");
            }
            else {
                if (!selectHours) {
                    selectHours = 0;
                }
                if (!selectMinutes) {
                    selectMinutes = 0;
                }
                if (!selectSeconds) {
                    selectSeconds = 0;
                }


                let setHour = Number.parseInt(selectHours);
                let setMinute = Number.parseInt(selectMinutes);
                let setSecond = Number.parseInt(selectSeconds);
                console.log(`${setHour}:${setMinute}:${setSecond}`);

                let totelSeconds = setHour * 60 * 60 + setMinute * 60 + setSecond;
                let milliSeconds = totelSeconds * 1000;
                console.log(milliSeconds);

                // reset form when clicked set timer
                alarmForm.reset();

                display.style.display = 'block';
                alarmForm.style.display = 'none';
                //alarmForm.innerHTML.style.height = '0px';

                let showHours = document.getElementById("showHours");
                let showMinutes = document.getElementById("showMinutes");
                let showSeconds = document.getElementById("showSeconds");

                showHours.innerHTML = setHour;
                showMinutes.innerHTML = setMinute;
                showSeconds.innerHTML = setSecond;


                let alarmTone = new Audio("../Audios/alarmClock.mp3");
                let setAlarm = document.getElementById("setAlarm");

                function exitTime() {
                    alarmForm.style.display = 'none';
                    display.style.display = 'block';

                    showSeconds.innerHTML = 0;
                    showMinutes.innerHTML = 0;
                    showHours.innerHTML = 0;
                    setTimeout(() => {
                        clearInterval(intervalId);
                        alarmForm.style.display = 'flex';
                        display.style.display = 'none';
                    }, 1000);
                    alarmTone.play()



                }
                function updateTime() {

                    if (setMinute > 0) {
                        if (setSecond < 0) {
                            setMinute -= 1;
                            if (setMinute == 0) {

                            } else {
                                setSecond = 60;
                            }
                        }
                    }
                    if (setHour == 0 && setMinute == 0 && setSecond == 0) {
                        exitTime();
                    }
                    console.log(`${setHour} ${setMinute} ${setSecond}`)
                    showSeconds.innerHTML = setHour;
                    showMinutes.innerHTML = setMinute;
                    showHours.innerHTML = setSecond;


                    if (setHour == 0) {
                        showHours.innerHTML = 0;
                    }
                    else {
                        showHours.innerHTML = setHour;
                        setHour -= 1;
                        showHours.innerHTML = setHour;
                    }
                    if (setMinute == 0) {
                        showMinutes.innerHTML = 0;

                    }
                    else {
                        showMinutes.innerHTML = setMinute;
                        if (setMinute == 0 && setSecond == 0) {
                            exitTime();
                        }
                        if (setMinute < 0) {
                            if (showSeconds == 0) {
                                exitTime();
                            }
                        }
                    }
                    if (setSecond == 0 && setMinute == 0 && setHour == 0) {
                        exitTime();
                    }
                    else if (setSecond == 0 && setMinute > 0) {
                        setMinute -= 1;
                        showMinutes.innerHTML = setMinute;
                        setSecond = 60;
                    }
                    else {
                        showSeconds.innerHTML = setSecond;
                        setSecond -= 1;
                        showSeconds.innerHTML = setSecond;

                        if (setSecond == 0 && setMinute == 0 && setHour == 0) {
                            exitTime();
                        }

                    }
                }
                updateTime();
                var intervalId = setInterval(updateTime, 1000);
            }
        })
    </script>
</body>
</html>